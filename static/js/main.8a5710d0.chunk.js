(this["webpackJsonpyakunin-predator-prey"]=this["webpackJsonpyakunin-predator-prey"]||[]).push([[0],{10:function(e,t,a){e.exports={root:"styles_root__32LC3",list:"styles_list__1zmfO",option:"styles_option__28eY7",title:"styles_title__1JoGE",value:"styles_value__2qwGT"}},188:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(17),s=a.n(o),c=a(19),l=a.n(c),p=a(12),i=a(49),u=a.n(i),m=a(24),d=a(44),y=a.n(d),_=a(26),b=a.n(_),f=function(e){var t=Object(r.useState)(),a=Object(m.a)(t,2),o=a[0],s=a[1];return Object(r.useEffect)((function(){switch(e.map[e.row][e.col]){case"prey":s(b.a.prey);break;case"predator":s(b.a.predator);break;case"food":s(b.a.food);break;default:s()}}),[e]),n.a.createElement("div",{className:b.a.root},n.a.createElement("div",{className:y()(o,b.a.circle)}))},h=function(e){return n.a.createElement("div",{className:u.a.root},e.isMapCreated?n.a.createElement("div",{className:u.a.grid},e.map.map((function(t,a){return n.a.createElement("div",{key:a,className:u.a.grid__row},t.map((function(t,r){return n.a.createElement(f,{key:"".concat(a,":").concat(r),row:a,col:r,map:e.map})})))}))):null)},E=function(e){return e.map},g=a(205),M=a(11),v=a(206),O=Object(M.a)({root:{color:"#52af77",height:8},thumb:{height:24,width:24,backgroundColor:"#fff",border:"2px solid currentColor",marginTop:-8,marginLeft:-12,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:8,borderRadius:4},rail:{height:8,borderRadius:4}})(v.a),x=Object(M.a)({root:{padding:"0 15px",width:"calc(100% - 30px)"},button_apply:{backgroundColor:"#52af77",color:"rgb(241, 241, 241)"},label:{margin:0,display:"inline",marginRight:"5px"}})((function(e){var t=e.classes,a=e.className,o=Object(p.b)(),s=Object(p.c)(E),c=Object(r.useState)(s.speed),l=Object(m.a)(c,2),i=l[0],u=l[1],d=Object(r.useCallback)((function(){o({type:"MAP_RESTART"})}),[o]);return Object(r.useEffect)((function(){o(function(e){return{type:"MAP_CHANGE_SPEED",payload:{speed:e}}}(i))}),[o,i]),n.a.createElement("div",{className:t.root},n.a.createElement("h5",{className:t.label},"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\xa0\u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445:"),n.a.createElement(O,{defaultValue:.3,getAriaValueText:function(e){return e},"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:.2,min:.1,max:4,onChange:function(e,t){return u(1e3*t)}}),n.a.createElement(g.a,{className:y()(t.button_apply,a),onClick:d},"\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c"))})),N=a(61),C=a.n(N),j=function(){return n.a.createElement("header",{className:C.a.header},n.a.createElement("h1",{className:C.a.title},"\u041c\u043e\u0434\u0435\u043b\u044c \u0445\u0438\u0449\u043d\u0438\u043a\u2013\u0436\u0435\u0440\u0442\u0432\u0430"))},k=a(82),A=function(e){var t=e.preys,a=e.predators,r=e.labels;return n.a.createElement(k.a,{data:{labels:r,datasets:[{label:"\u0416\u0435\u0440\u0442\u0432\u044b",data:t,backgroundColor:"#e9c46a"},{label:"\u0425\u0438\u0449\u043d\u0438\u043a\u0438",data:a,backgroundColor:"#e76f51"}]},options:{title:{display:!1,text:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430",fontSize:24,fontFamily:"Roboto Mono",fontColor:"rgb(241, 241, 241)"},legend:{display:!0,labels:{fontFamily:"Roboto Mono",fontColor:"rgb(241, 241, 241)"}},scales:{yAxes:[{gridLines:{display:!0,color:"rgba(241, 241, 241, 0.3)"},ticks:{fontColor:"rgb(241, 241, 241)",fontFamily:"Roboto Mono"},scaleLabel:{display:!0,labelString:"\u041f\u043e\u043f\u0443\u043b\u044f\u0446\u0438\u044f",fontColor:"rgb(241, 241, 241)",fontFamily:"Roboto Mono",fontSize:16}}],xAxes:[{gridLines:{display:!0,color:"rgb(241, 241, 241, 0.3)"},ticks:{fontColor:"rgb(241, 241, 241)",fontFamily:"Roboto Mono"},scaleLabel:{display:!0,labelString:"\u0412\u0440\u0435\u043c\u044f \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u044f \u043c\u043e\u0434\u0435\u043b\u0438",fontColor:"rgb(241, 241, 241)",fontFamily:"Roboto Mono",fontSize:16}}]}}})},D=a(9),w=a.n(D),R=a(10),S=a.n(R),T=function(e){var t=Object(p.c)(E),a=Object(r.useState)(0),o=Object(m.a)(a,2),s=o[0];o[1];return Object(r.useEffect)((function(){}),[t.preyData,t.predatorData]),n.a.createElement("div",{className:S.a.root},n.a.createElement("ul",{className:S.a.list},n.a.createElement("li",{className:S.a.option},n.a.createElement("h4",{className:S.a.title},"\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0436\u0435\u0440\u0442\u0432 \u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 100 \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u0439:"),n.a.createElement("p",{className:S.a.value},s)),n.a.createElement("li",{className:S.a.option},n.a.createElement("h4",{className:S.a.title},"\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0445\u0438\u0449\u043d\u0438\u043a\u043e\u0432 \u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 100 \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u0439:"),n.a.createElement("p",{className:S.a.value},"0")),n.a.createElement("li",{className:S.a.option},n.a.createElement("h4",{className:S.a.title},"\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u043c\u0438\u0440\u0430:"),n.a.createElement("p",{className:S.a.value},t.size.width*t.size.height))))},L=function(e){var t=Object(p.b)(),a=Object(p.c)((function(e){return e.map}));return Object(r.useEffect)((function(){if(a.isMapCreated){var e=setInterval((function(){t({type:"MAP_STEP"}),a.iteration%25===0&&t({type:"MAP_ADD_PREDATOR"})}),a.speed);return function(){return clearInterval(e)}}t({type:"MAP_INIT"})}),[t,a]),n.a.createElement("div",{className:l.a.root},n.a.createElement(j,null),n.a.createElement("main",{className:l.a.main},n.a.createElement("section",{className:l.a["map-container"]},n.a.createElement(h,{map:a.currentMap,isMapCreated:a.isMapCreated})),n.a.createElement("section",{className:l.a["stats-container"]},n.a.createElement("div",{className:l.a["stats-block"]},n.a.createElement(A,{preys:a.preyData,predators:a.predatorData,labels:a.chartLabels})),n.a.createElement("div",{className:l.a["stats-block"]},n.a.createElement(x,null)),n.a.createElement("div",{className:l.a["stats-block"]},n.a.createElement(T,null)))))},P=a(23),z=a(21),I=a(16),F=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"empty",r=[],n=0;n<t;n++){for(var o=[],s=0;s<e;s++)o.push(a);r.push(o)}return r[w.a.random(e-1)][w.a.random(t-1)]="prey",r},G=function(e){return e.map((function(e){return Object(z.a)(e)}))},B=function(e,t,a){var r=a.length,n=a[0].length,o=[];return t>0&&"empty"===a[e][t-1]&&o.push([e,t-1]),e+1<n&&"empty"===a[e+1][t]&&o.push([e+1,t]),t+1<r&&"empty"===a[e][t+1]&&o.push([e,t+1]),e>0&&"empty"===a[e-1][t]&&o.push([e-1,t]),4===o.length&&"empty"===a[e+1][t+1]&&"empty"===a[e+1][t-1]&&"empty"===a[e-1][t-1]&&"empty"===a[e-1][t+1]?[w.a.sample(o),[e,t]]:!!o.length&&[w.a.sample(o)]},V=function(e,t,a){var r=a.length,n=a[0].length,o=[],s=[];return t>0&&"prey"===a[e][t-1]&&s.push([e,t-1]),e+1<n&&"prey"===a[e+1][t]&&s.push([e+1,t]),t+1<r&&"prey"===a[e][t+1]&&s.push([e,t+1]),e>0&&"prey"===a[e-1][t]&&s.push([e-1,t]),s.length?[w.a.sample(s),[e,t]]:(t>1&&"prey"===a[e][t-2]&&"empty"===a[e][t-1]&&o.push([e,t-1]),t>0&&e+1<n&&"prey"===a[e+1][t-1]&&("empty"===a[e][t-1]&&o.push([e,t-1]),"empty"===a[e+1][t]&&o.push([e+1,t])),e+2<n&&"prey"===a[e+2][t]&&"empty"===a[e+1][t]&&o.push([e+1,t]),e+1<n&&t+1<r&&"prey"===a[e+1][t+1]&&("empty"===a[e+1][t]&&o.push([e+1,t]),"empty"===a[e][t+1]&&o.push([e,t+1])),t+2<r&&"prey"===a[e][t+2]&&"empty"===a[e][t+1]&&o.push([e,t+1]),e>1&&t+1<r&&"prey"===a[e-1][t+1]&&("empty"===a[e][t+1]&&o.push([e,t+1]),"empty"===a[e-1][t]&&o.push([e-1,t])),e>1&&"prey"===a[e-2][t]&&"empty"===a[e-1][t]&&o.push([e-1,t]),e>1&&t>1&&"prey"===a[e-1][t-1]&&("empty"===a[e-1][t]&&o.push([e-1,t]),"empty"===a[e][t-1]&&o.push([e,t-1])),!!o.length&&[w.a.sample(o)])},X={iteration:0,preysCount:0,predatorsCount:0,preyData:[0],predatorData:[0],chartLabels:["0"],size:{width:26,height:26},start:{x:13,y:13},speed:300,currentMap:[],nextMap:[],isMapCreated:!1,isMapEmpty:!0},q=Object(P.b)({map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MAP_INIT":case"MAP_RESTART":var a=F(e.size.width,e.size.height);return Object(I.a)(Object(I.a)({},e),{},{iteration:0,preysCount:1,preyData:[1],chartLabels:["0"],currentMap:G(a),nextMap:a,isMapCreated:!0});case"MAP_ADD_PREDATOR":return e.nextMap[w.a.random(e.size.width-1)][w.a.random(e.size.height-1)]="predator",Object(I.a)(Object(I.a)({},e),{},{currentMap:G(e.nextMap),nextMap:e.nextMap,predatorsCount:e.predatorsCount+1,predatorData:[].concat(Object(z.a)(e.predatorData),[e.predatorsCount+1])});case"MAP_STEP":e.currentMap.forEach((function(t,a){t.forEach((function(t,r){if("prey"===e.currentMap[a][r]){var n=B(a,r,e.nextMap);if(n)switch(n.length){case 2:n.forEach((function(t){e.nextMap[t[0]][t[1]]="prey"}));break;case 1:e.nextMap[n[0][0]][n[0][1]]="prey",e.nextMap[a][r]="empty"}else e.nextMap[a][r]="empty"}else if("predator"===e.currentMap[a][r]){var o=V(a,r,e.nextMap);if(o)switch(o.length){case 2:o.forEach((function(t){e.nextMap[t[0]][t[1]]="predator"}));break;case 1:e.nextMap[o[0][0]][o[0][1]]="predator",e.nextMap[a][r]="empty"}else e.nextMap[a][r]="empty"}}))}));var r=w.a.flattenDeep(e.nextMap),n=r.reduce((function(e,t){return"prey"===t?e+1:e}),0),o=r.reduce((function(e,t){return"predator"===t?e+1:e}),0);return Object(I.a)(Object(I.a)({},e),{},{iteration:e.iteration+1,preysCount:n,predatorsCount:o,preyData:[].concat(Object(z.a)(e.preyData),[n]),predatorData:[].concat(Object(z.a)(e.predatorData),[o]),chartLabels:[].concat(Object(z.a)(e.chartLabels),["".concat(e.iteration+1)]),currentMap:G(e.nextMap),nextMap:e.nextMap});case"MAP_CHANGE_SPEED":return Object(I.a)(Object(I.a)({},e),{},{speed:t.payload.speed});default:return e}}}),J=Object(P.c)(q,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(n.a.createElement(p.a,{store:J},n.a.createElement(L,null)),document.getElementById("root"))},19:function(e,t,a){e.exports={root:"App_root__2h8CC",main:"App_main__3ZkGI","map-container":"App_map-container__3kM1T","stats-container":"App_stats-container__2iv3E","stats-block":"App_stats-block__2uB8m"}},26:function(e,t,a){e.exports={root:"styles_root__-bKiG",circle:"styles_circle__2KwSW",food:"styles_food__anRMd",prey:"styles_prey__3CVNf",predator:"styles_predator__3po0d"}},49:function(e,t,a){e.exports={grid:"styles_grid__OML2l",grid__row:"styles_grid__row__lBAo9"}},61:function(e,t,a){e.exports={header:"styles_header__25lBf",menu:"styles_menu__2mFGE",menu__option:"styles_menu__option__1qeQB",title:"styles_title__2qn0m"}},87:function(e,t,a){e.exports=a(188)}},[[87,1,2]]]);
//# sourceMappingURL=main.8a5710d0.chunk.js.map